console.log("Hello from Manager");
let requestUrl = "http://localhost:8080/RentEventsApp/api/users";

function sendAjaxGet(url, callback){
	let xhr = new XMLHttpRequest();
	
	xhr.open("GET", url);
	
	xhr.onreadystatechange = function(){
		if(xhr.readyState===4 && xhr.status===200){
			callback(xhr.response);
		}
	}
	
	xhr.send();
}

function displayUsers(usersJSON){
	let users = JSON.parse(usersJSON);
	console.log(users);
	for(let user of users){
	    this.addTableRow(users.firstName, users.lastName, users.userName, users.totalSpends);
	}
	users=null;
}

sendAjaxGet(requestUrl,displayUsers);
